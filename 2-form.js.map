{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const email = document.querySelector(\"input\");\nemail.className = \"email\";\n\nconst message = document.querySelector(\"textarea\");\nmessage.className = \"message\";\n\nconst button = document.querySelector(\"button\")\nbutton.className = \"submit\"\n\nconst feedbackForm = document.querySelector(\".js-feedback-form\");\nlet formData = {\n    email: '',\n    message: '',\n};\n\nconst fillFormFields = () => {\n     try {\n        const storedData = localStorage.getItem('feedback-form-state');\n        if (!storedData) {\n            return;\n        }\n\n        const formDataFromLS = JSON.parse(storedData);\n\n        formData = { ...formData, ...formDataFromLS };\n\n        for (const key in formDataFromLS) {\n            if (feedbackForm.elements[key]) {\n                feedbackForm.elements[key].value = formDataFromLS[key];\n            }\n        }\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nfillFormFields();\n\nconst fieldChange = event => {\n    const { target: formFieldEl } = event;\n    const fieldValue = formFieldEl.value;\n    const fieldName = formFieldEl.name;\n\n    if (!fieldName) return;\n\n    formData[fieldName] = fieldValue;\n\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n\n    if (!formData.email || !formData.message) {\n        alert(\"Fill please all fields\");\n        return;\n    }\n    console.log(formData)\n    \n    const { currentTarget: formEl } = event;\n    formEl.reset();\n\n    FormData.email = '';\n    FormData.message = '';\n    \n    localStorage.removeItem('feedback-form-state');\n};\n\nfeedbackForm.addEventListener('input', fieldChange);\nfeedbackForm.addEventListener('submit', onFormSubmit);"],"names":["email","message","button","feedbackForm","formData","fillFormFields","storedData","formDataFromLS","key","err","fieldChange","event","formFieldEl","fieldValue","fieldName","onFormSubmit","formEl"],"mappings":"kCAAA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,UAAY,QAElB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,UAEpB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,UAAY,SAEnB,MAAMC,EAAe,SAAS,cAAc,mBAAmB,EAC/D,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAiB,IAAM,CACxB,GAAI,CACD,MAAMC,EAAa,aAAa,QAAQ,qBAAqB,EAC7D,GAAI,CAACA,EACD,OAGJ,MAAMC,EAAiB,KAAK,MAAMD,CAAU,EAE5CF,EAAW,CAAE,GAAGA,EAAU,GAAGG,CAAc,EAE3C,UAAWC,KAAOD,EACVJ,EAAa,SAASK,CAAG,IACzBL,EAAa,SAASK,CAAG,EAAE,MAAQD,EAAeC,CAAG,EAGhE,OAAQC,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CACL,EAEAJ,IAEA,MAAMK,EAAcC,GAAS,CACzB,KAAM,CAAE,OAAQC,CAAa,EAAGD,EAC1BE,EAAaD,EAAY,MACzBE,EAAYF,EAAY,KAEzBE,IAELV,EAASU,CAAS,EAAID,EAEtB,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,EACxE,EAEMW,EAAeJ,GAAS,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CAACP,EAAS,OAAS,CAACA,EAAS,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIA,CAAQ,EAEpB,KAAM,CAAE,cAAeY,CAAQ,EAAGL,EAClCK,EAAO,MAAK,EAEZ,SAAS,MAAQ,GACjB,SAAS,QAAU,GAEnB,aAAa,WAAW,qBAAqB,CACjD,EAEAb,EAAa,iBAAiB,QAASO,CAAW,EAClDP,EAAa,iBAAiB,SAAUY,CAAY"}